# Allow mouse scrolling
set -g mouse on

set-option -s set-clipboard off
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -i"

# History size
set -g history-limit 10000

# Allow config relaoding with <C-b> r
bind r source-file ~/.tmux.conf

# set vi-mode
set-window-option -g mode-keys vi

# Window title customization
set-option -g set-titles on
# Show last two directories of path using custom script
set-option -g set-titles-string '#(whoami)@#{host_short}: #(~/Dokumente/programming/dotfiles/tmux-last-two-dirs.sh "#{pane_current_path}")'

# Status line customization
set -g status-interval 1                # Update status line every second
set -g status-position bottom           # Position at bottom
set -g status-justify left              # Justify window list to left

# Colors
set -g status-style bg=black,fg=white   # Basic colors

# Left side
set -g status-left-length 40            # Allow more space
set -g status-left "#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P "  # Show session, window, pane numbers

# Right side
set -g status-right-length 60           # Allow more space
set -g status-right "#[fg=yellow]Load: #(uptime | cut -d ',' -f 3- | cut -d ':' -f 2) #[fg=green]#(df -h | grep '/$' | awk '{print $5}') #[fg=cyan]%a %d-%b %H:%M"  # System load, disk usage, date and time

# Window status format
set -g window-status-format " #I:#W#F "  # Window number:name flags
set -g window-status-current-format "#[fg=black,bg=cyan] #I:#W#F "  # Highlight current window

set -g @plugin '.tmux/plugins/tpm'
set -g @plugin '.tmux/plugins/tmux-sensible'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
